<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Payment Successful</title>
  <style>
    * {
       box-sizing: border-box;
       margin: 0;
       padding: 0;
       font-family: "Roboto", sans-serif;
    }

    body {
       background-color: #f8f8f8;
       display: flex;
       justify-content: center;
       align-items: center;
       height: 100vh;
    }

    .container {
       text-align: center;
       line-height: 1.5em;
       background: #fff;
       padding: 20px;
       border: 1px solid #ddd;
       border-radius: 8px;
       box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
       max-width: 500px;
    }

    .container h1 {
       font-size: 24px;
       color: #28a745;
       margin-bottom: 10px;
    }

    .container p {
       font-size: 16px;
       color: #555;
       margin-bottom: 20px;
    }

    .container button {
       background-color: #007bff;
       color: #fff;
       border: none;
       padding: 10px 20px;
       font-size: 16px;
       border-radius: 4px;
       cursor: pointer;
    }

    .container button:hover {
       background-color: #0056b3;
    }
  </style>
</head>
<body>
<div class="container">
  <h1>Payment Successful</h1>
  <p>Thank you for your payment. Your transaction has been completed successfully.</p>
  <p>You may now proceed to your dashboard or return to the main page.</p>
  <button onclick="redirectToIndex()">Go to Dashboard</button>
</div>

<script>
  function redirectToIndex() {
      const urlParams = new URLSearchParams(window.location.search);
      const amount = parseFloat(urlParams.get('amount'));

      if (isNaN(amount) || amount <= 0) {
          alert("Invalid payment amount");
          return;
      }

      const apiCalls = Math.floor((amount * 100) - 5 );

      let currentApiCalls = parseInt(localStorage.getItem('apiCalls')) || 5;
      localStorage.setItem('apiCalls', currentApiCalls + apiCalls);

      // Redirect to index.html with updated apiCalls as a query parameter
      window.location.href = `index.html?apiCalls=${currentApiCalls + apiCalls}`;
  }
</script>




</body>
</html>
